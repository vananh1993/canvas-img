<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>
<style type="text/css">
	img {
	  display: block;

	  /* This rule is very important, please don't ignore this */
	  max-width: 100%;
	}
	ul, li {
		list-style: none;
	}
</style>
<div class="container text-center">
  <div class="row align-items-start">
    <div class="col col-4">
      <ul id="frame">
      	<li>
      		<img src="./img/transparent-1.png">
      	</li>
      	<li>
      		<img src="./img/transparent-2.png">
      	</li>
      	<li>
      		<img src="./img/transparent-3.png">
      	</li>
      	<li>
      		<img src="./img/transparent-4.png">
      	</li>
      </ul>
    </div>
    <div class="col col-8">
      	<div class="position-relative" style="height: 500px;">
      		<img width="1024"  height="500" class="position-absolute"  src="./img/transparent-1.png" style="z-index: 3; pointer-events: none;">
		  	<img  width="1024" height="500"  class="position-absolute" id="image" src="./img/1.jpeg">
		</div>
		<canvas width="512" height="512" id="canvas"></canvas>
    </div>
  </div>
</div>





<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link  href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

<script type="text/javascript">
var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");






let imgFrame = $('#frame img');
let img1;
imgFrame.on( "click", function() {
  let imgFrameSrc = $(this).attr('src');
  console.log(imgFrameSrc);
  img1 = loadImage(imgFrameSrc, main);
});



var img2 = loadImage('./img/1.jpeg', main);

var imagesLoaded = 0;

function main() {
    // imagesLoaded += 1;

    // if(imagesLoaded == 2) {
        // composite now              
        ctx.globalAlpha = 0.8;   
        ctx.drawImage(img2, 0, 0, 1024,1024);        	
         ctx.globalAlpha = 1;
         ctx.drawImage(img1, 0, 0, 1024,1024);       
    // }
}

function loadImage(src, onload) {
    var img = new Image();
    img.onload = onload;
    img.src = src;
    return img;
}





const image = document.getElementById('image');
const cropper = new Cropper(image, {
  aspectRatio: 16 / 9,
  crop(event) {
    // console.log(event.detail.x);
    // console.log(event.detail.y);
    // console.log(event.detail.width);
    // console.log(event.detail.height);
    // console.log(event.detail.rotate);
    // console.log(event.detail.scaleX);
    // console.log(event.detail.scaleY);
  },
});
</script>
</body>


</html>